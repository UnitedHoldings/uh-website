# Product Page - Content & Data Map

**Purpose**: Visual reference for data flow, component structure, and content relationships  
**Scope**: `app/products/[slug]/page.js` + `components/RenderForm.js`  
**Audience**: Developers, architects, content team

---

## ğŸ”„ Data Flow Architecture

### Before Migration: Current Hardcoded Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User Visits Product Page                  â”‚
â”‚                  products/[slug]/page.js                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                         â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Product  â”‚           â”‚ Hardcoded Data   â”‚
   â”‚ API Call â”‚           â”‚ Objects          â”‚
   â”‚ (Works)  â”‚           â”‚ (Static)         â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                           â”‚
        â”œâ”€ productName â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
        â”‚                          â”‚â”‚
        â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â–¼                       â–¼
        â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          â”‚ getProductCompany() â”‚ getCompanyText() â”‚
        â”‚          â”‚ Returns company obj â”‚ Returns text obj â”‚
        â”‚          â”‚ (hardcoded logic)   â”‚ (hardcoded logic)â”‚
        â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚                     â”‚
        â”œâ”€ company â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â”Œâ”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚                  â”‚
        â”‚              â–¼                  â–¼
        â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       â”‚     Render Product Page             â”‚
        â”‚       â”‚ - Company Name & Color (hardcoded)  â”‚
        â”‚       â”‚ - Heading Text (hardcoded)          â”‚
        â”‚       â”‚ - Submit Button Text (hardcoded)    â”‚
        â”‚       â”‚ - Disclaimer (hardcoded)            â”‚
        â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     Pass to RenderForm           â”‚
        â”‚  products/[slug]/page.js â†’ line  â”‚
        â”‚           RenderForm            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  RenderForm Component            â”‚
        â”‚  - getProductCategory()          â”‚
        â”‚  - 7 hardcoded switch cases      â”‚
        â”‚  - 42+ hardcoded form fields     â”‚
        â”‚  - 43+ hardcoded options         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Render Quote Form               â”‚
        â”‚  - Category-specific fields      â”‚
        â”‚  - All hardcoded labels/options  â”‚
        â”‚  - Client-side validation       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Problem**: 120+ hardcoded data points scattered across:
- COMPANY_COLORS object
- COMPANY_NAMES object
- getCompanySpecificText() function
- RenderForm switch statement
- Select option arrays

---

### After Migration: Dynamic API Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User Visits Product Page                  â”‚
â”‚                  products/[slug]/page.js                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼            â–¼            â–¼                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Product â”‚  â”‚useProductâ”‚  â”‚  Auto    â”‚  â”‚  Zero Code â”‚
   â”‚ API     â”‚  â”‚PageData()â”‚  â”‚ Company  â”‚  â”‚   Update   â”‚
   â”‚ (Works) â”‚  â”‚  Hook    â”‚  â”‚Detection â”‚  â”‚(UI Change) â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚             â”‚
        â”‚             â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚
        â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        â”‚  API Calls (4 total) â”‚
        â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚
        â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      â–¼            â–¼            â–¼
        â”‚  GET /api/    GET /api/  GET /api/
        â”‚  cms/         cms/       cms/
        â”‚  companies    companies/ product-
        â”‚              :code      categories
        â”‚      â”‚            â”‚            â”‚
        â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â–¼       â–¼
        â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     â”‚ PostgreSQL Database       â”‚
        â”‚     â”‚ 4 Tables                  â”‚
        â”‚     â”‚ - cms_companies           â”‚
        â”‚     â”‚ - cms_product_categories  â”‚
        â”‚     â”‚ - cms_form_fields         â”‚
        â”‚     â”‚ - cms_select_options      â”‚
        â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚
        â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    â–¼                   â–¼            â–¼
        â”‚ Company             Category      Form Fields
        â”‚ Data                Data          + Options
        â”‚ {                   {             [
        â”‚  id: '...',        categoryKey:    {
        â”‚  code: 'UGI',      'life',         fieldKey: 'dob',
        â”‚  name: 'United     name: 'Life     label: 'Date of',
        â”‚  General...',      Insurance',    type: 'date',
        â”‚  brandColor:       keywords: [...] required: true
        â”‚  '#286278',        formFields: [...]
        â”‚  mainHeading:      }
        â”‚  'Hassle-free',
        â”‚  ...
        â”‚ }
        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚                                  â”‚
                   â–¼                                  â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ useProductPageData Hook  â”‚      â”‚ Automatic Detection    â”‚
        â”‚ - Handles API calls      â”‚      â”‚ - Keywords match       â”‚
        â”‚ - Manages loading state  â”‚      â”‚ - Category inference   â”‚
        â”‚ - Returns typed data     â”‚      â”‚ - Fallback logic       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ product.jsx              â”‚
        â”‚ - Dynamic company color  â”‚
        â”‚ - Dynamic heading text   â”‚
        â”‚ - Dynamic button text    â”‚
        â”‚ - API disclaimer         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ RenderForm Component     â”‚
        â”‚ - Map over form fields   â”‚
        â”‚ - Render input per type  â”‚
        â”‚ - Populate options       â”‚
        â”‚ - Apply validation       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Dynamic Quote Form       â”‚
        â”‚ (Zero hardcoded data)    â”‚
        â”‚ Full CMS control         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Benefit**: 120+ hardcoded points â†’ 4 database tables â†’ Zero code changes for updates

---

## ğŸ“¦ Component Structure Diagram

### Hierarchy Tree

```
app/products/[slug]/page.js (600+ lines)
â”œâ”€â”€ Metadata Export (SEO)
â”œâ”€â”€ Imports & Constants
â”‚   â”œâ”€â”€ COMPANY_COLORS (3 colors) âŒ â†’ Move to DB
â”‚   â”œâ”€â”€ COMPANY_NAMES (3 names) âŒ â†’ Move to DB
â”‚   â””â”€â”€ Utility Functions
â”œâ”€â”€ Main Component: ProductDetailPage
â”‚   â”œâ”€â”€ useEffect â†’ Fetch product data (API) âœ“
â”‚   â”œâ”€â”€ useState â†’ Form state
â”‚   â”œâ”€â”€ Render Top Section
â”‚   â”‚   â”œâ”€â”€ Company Brand Bar
â”‚   â”‚   â”‚   â”œâ”€â”€ Company Logo/Name (hardcoded) âŒ
â”‚   â”‚   â”‚   â””â”€â”€ Brand Color (hardcoded) âŒ
â”‚   â”‚   â””â”€â”€ Product Heading
â”‚   â”œâ”€â”€ Render Details Grid
â”‚   â”‚   â”œâ”€â”€ Product Benefits Component
â”‚   â”‚   â”‚   â””â”€â”€ Hardcoded content âŒ
â”‚   â”‚   â”œâ”€â”€ Product Coverage Component
â”‚   â”‚   â”‚   â””â”€â”€ Hardcoded content âŒ
â”‚   â”‚   â””â”€â”€ Product Eligibility Component
â”‚   â”‚       â””â”€â”€ Hardcoded content âŒ
â”‚   â”œâ”€â”€ Render Quote Form Container
â”‚   â”‚   â”œâ”€â”€ Heading (hardcoded) âŒ
â”‚   â”‚   â”œâ”€â”€ RenderForm Component
â”‚   â”‚   â”‚   â”œâ”€â”€ getProductCategory() (hardcoded) âŒ
â”‚   â”‚   â”‚   â”œâ”€â”€ 7 switch cases (hardcoded) âŒ
â”‚   â”‚   â”‚   â””â”€â”€ Form submission handler
â”‚   â”‚   â””â”€â”€ Disclaimer (hardcoded) âŒ
â”‚   â””â”€â”€ Toast Notifications
â”‚
components/RenderForm.js (350+ lines)
â”œâ”€â”€ Helper Functions
â”‚   â””â”€â”€ getProductCategory() (hardcoded logic) âŒ
â”œâ”€â”€ Main Component: RenderForm
â”‚   â”œâ”€â”€ Props: { product, onFormSubmit, companyCode }
â”‚   â”œâ”€â”€ State: formData, touched, errors
â”‚   â”œâ”€â”€ Effects: Validation
â”‚   â”œâ”€â”€ Form Render
â”‚   â”‚   â”œâ”€â”€ Form wrapper
â”‚   â”‚   â”œâ”€â”€ Map formFields (from hardcoded) âŒ
â”‚   â”‚   â”‚   â”œâ”€â”€ InputField (hardcoded) âŒ
â”‚   â”‚   â”‚   â””â”€â”€ SelectField (hardcoded) âŒ
â”‚   â”‚   â”œâ”€â”€ Submit Button (hardcoded text) âŒ
â”‚   â”‚   â””â”€â”€ Error messages
â”‚   â””â”€â”€ Handlers: onChange, onBlur, onSubmit
â”‚
Database Layer (Proposed)
â”œâ”€â”€ cms_companies
â”œâ”€â”€ cms_product_categories
â”œâ”€â”€ cms_form_fields
â””â”€â”€ cms_select_options
```

**Legend**:
- âœ“ = Works well, keep as-is
- âŒ = Hardcoded, migrate to DB

---

## ğŸ¨ Color & Branding Map

### Current Hardcoded Colors

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              COMPANY COLOR SCHEME (Hardcoded)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ United General Insurance (UGI)                       â”‚   â”‚
â”‚  â”‚ â”œâ”€ Primary Color: #286278 (Dark Blue)               â”‚   â”‚
â”‚  â”‚ â”œâ”€ Usage: Header, buttons, accents                  â”‚   â”‚
â”‚  â”‚ â”œâ”€ Contrast: âœ“ WCAG AA (blue on white)            â”‚   â”‚
â”‚  â”‚ â””â”€ Location: app/products/[slug]/page.js line 2    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ United Life Assurance (ULA)                          â”‚   â”‚
â”‚  â”‚ â”œâ”€ Primary Color: #3d834d (Dark Green)              â”‚   â”‚
â”‚  â”‚ â”œâ”€ Usage: Header, buttons, accents                  â”‚   â”‚
â”‚  â”‚ â”œâ”€ Contrast: âœ“ WCAG AA (green on white)            â”‚   â”‚
â”‚  â”‚ â””â”€ Location: app/products/[slug]/page.js line 3    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ United Pay (UP)                                      â”‚   â”‚
â”‚  â”‚ â”œâ”€ Primary Color: #f79620 (Orange)                  â”‚   â”‚
â”‚  â”‚ â”œâ”€ Usage: Header, buttons, accents                  â”‚   â”‚
â”‚  â”‚ â”œâ”€ Contrast: âœ— WCAG AA FAILS (orange on white)    â”‚   â”‚
â”‚  â”‚ â”œâ”€ Issue: 3.65:1 ratio (need 4.5:1)                â”‚   â”‚
â”‚  â”‚ â”œâ”€ Solution: Use darker shade #d67910              â”‚   â”‚
â”‚  â”‚ â””â”€ Location: app/products/[slug]/page.js line 4    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Proposed Database Storage

```
cms_companies Table
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id  â”‚ codeâ”‚ brand_color â”‚ ...              â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1   â”‚ UGI â”‚ #286278     â”‚ ...              â”‚
â”‚ 2   â”‚ ULA â”‚ #3d834d     â”‚ ...              â”‚
â”‚ 3   â”‚ UP  â”‚ #d67910     â”‚ ... (updated!)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“„ Company-Specific Text Map

### Content Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Company-Specific Text Fields (5 per company)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Field 1: Main Heading                                         â”‚
â”‚  â”œâ”€ UGI: "Hassle-free cover for your insurance needs"        â”‚
â”‚  â”œâ”€ ULA: "Peace of mind with life assurance coverage"        â”‚
â”‚  â””â”€ UP:  "Get hassle-free financing for all your needs"     â”‚
â”‚  Location: app/products/[slug]/page.js line 55               â”‚
â”‚                                                                  â”‚
â”‚  Field 2: Action Text                                          â”‚
â”‚  â”œâ”€ UGI: "Get Quote"                                          â”‚
â”‚  â”œâ”€ ULA: "Calculate Premium"                                 â”‚
â”‚  â””â”€ UP:  "Apply Now"                                         â”‚
â”‚  Location: app/products/[slug]/page.js line 56               â”‚
â”‚                                                                  â”‚
â”‚  Field 3: Success Message                                      â”‚
â”‚  â”œâ”€ UGI: "Your insurance quote has been generated"           â”‚
â”‚  â”œâ”€ ULA: "Your life assurance quote is ready"               â”‚
â”‚  â””â”€ UP:  "Your application has been submitted"              â”‚
â”‚  Location: app/products/[slug]/page.js line 57               â”‚
â”‚                                                                  â”‚
â”‚  Field 4: Form Title                                           â”‚
â”‚  â”œâ”€ UGI: "Get Your Insurance Quote"                          â”‚
â”‚  â”œâ”€ ULA: "Life Assurance Calculator"                         â”‚
â”‚  â””â”€ UP:  "Quick Loan Application"                            â”‚
â”‚  Location: app/products/[slug]/page.js line 58               â”‚
â”‚                                                                  â”‚
â”‚  Field 5: Submit Button Text                                   â”‚
â”‚  â”œâ”€ UGI: "Request Quote"                                     â”‚
â”‚  â”œâ”€ ULA: "Calculate Premium"                                 â”‚
â”‚  â””â”€ UP:  "Submit Application"                                â”‚
â”‚  Location: app/products/[slug]/page.js line 59               â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Database Mapping

```
cms_companies Table
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ company_ â”‚ main_heading         â”‚ action_   â”‚ form_   â”‚ submit_  â”‚
â”‚ id       â”‚                      â”‚ text      â”‚ title   â”‚ button   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ UGI      â”‚ Hassle-free cover... â”‚ Get Quote â”‚ Get Yourâ”‚ Request  â”‚
â”‚          â”‚                      â”‚           â”‚ Insuranceâ”‚ Quote   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ULA      â”‚ Peace of mind...     â”‚ Calculate â”‚ Life    â”‚ Calculateâ”‚
â”‚          â”‚                      â”‚ Premium   â”‚ Assuranceâ”‚ Premium  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ UP       â”‚ Get hassle-free...   â”‚ Apply Now â”‚ Quick   â”‚ Submit   â”‚
â”‚          â”‚                      â”‚           â”‚ Loan Appâ”‚Application
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Form Field Matrix

### Category-to-Fields Mapping

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Product Category â†’ Form Fields (Current)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ LIFE INSURANCE (5 fields)                                      â”‚
â”‚ â”œâ”€ Date of Birth (date input)                                 â”‚
â”‚ â”œâ”€ Gender (select: Male/Female)                               â”‚
â”‚ â”œâ”€ Coverage Amount (number input)                             â”‚
â”‚ â”œâ”€ Coverage Type (select: Individual/Family)                  â”‚
â”‚ â””â”€ Number of Dependents (number input)                        â”‚
â”‚ Location: RenderForm.js lines 46-75                           â”‚
â”‚                                                                  â”‚
â”‚ MOTOR INSURANCE (6 fields)                                     â”‚
â”‚ â”œâ”€ Vehicle Type (select: Car/Motorcycle/Truck)               â”‚
â”‚ â”œâ”€ Vehicle Make (text input)                                  â”‚
â”‚ â”œâ”€ Vehicle Model (text input)                                 â”‚
â”‚ â”œâ”€ Year of Manufacture (number input)                         â”‚
â”‚ â”œâ”€ Registration Number (text input)                           â”‚
â”‚ â””â”€ Vehicle Value (currency input)                             â”‚
â”‚ Location: RenderForm.js lines 76-110                          â”‚
â”‚                                                                  â”‚
â”‚ HOME INSURANCE (6 fields)                                      â”‚
â”‚ â”œâ”€ Property Address (text input)                              â”‚
â”‚ â”œâ”€ Property Status (select: Owned/Rented)                     â”‚
â”‚ â”œâ”€ Property Type (select: House/Flat/Other)                  â”‚
â”‚ â”œâ”€ Property Value (currency input)                            â”‚
â”‚ â”œâ”€ Coverage Type (select: Building/Contents/Both)             â”‚
â”‚ â””â”€ Years Insured (number input)                               â”‚
â”‚ Location: RenderForm.js lines 111-145                         â”‚
â”‚                                                                  â”‚
â”‚ LEGAL INSURANCE (4 fields)                                     â”‚
â”‚ â”œâ”€ Legal Matter (select: Employment/Contract/Other)           â”‚
â”‚ â”œâ”€ Estimated Costs (currency input)                           â”‚
â”‚ â”œâ”€ Urgency (select: Low/Medium/High)                          â”‚
â”‚ â””â”€ Description (textarea)                                     â”‚
â”‚ Location: RenderForm.js lines 146-170                         â”‚
â”‚                                                                  â”‚
â”‚ PERSONAL ACCIDENT (4 fields)                                   â”‚
â”‚ â”œâ”€ Date of Birth (date input)                                 â”‚
â”‚ â”œâ”€ Occupation (text input)                                    â”‚
â”‚ â”œâ”€ Coverage Amount (currency input)                           â”‚
â”‚ â””â”€ Activity Coverage (select: Standard/High-Risk)             â”‚
â”‚ Location: RenderForm.js lines 171-195                         â”‚
â”‚                                                                  â”‚
â”‚ BUSINESS INSURANCE (7 fields)                                  â”‚
â”‚ â”œâ”€ Business Name (text input)                                 â”‚
â”‚ â”œâ”€ Registration Number (text input)                           â”‚
â”‚ â”œâ”€ Business Type (select: Retail/Service/Other)               â”‚
â”‚ â”œâ”€ Number of Employees (number input)                         â”‚
â”‚ â”œâ”€ Annual Revenue (currency input)                            â”‚
â”‚ â”œâ”€ Coverage Type (select: Liability/Property/Both)            â”‚
â”‚ â””â”€ Business Address (text input)                              â”‚
â”‚ Location: RenderForm.js lines 196-235                         â”‚
â”‚                                                                  â”‚
â”‚ LOANS (6 fields)                                               â”‚
â”‚ â”œâ”€ Loan Amount (currency input)                               â”‚
â”‚ â”œâ”€ Loan Purpose (select: Car/Home/Personal/Other)             â”‚
â”‚ â”œâ”€ Employment Status (select: Employed/Self-Employed)        â”‚
â”‚ â”œâ”€ Monthly Income (currency input)                            â”‚
â”‚ â”œâ”€ Loan Tenure (number input - years)                         â”‚
â”‚ â””â”€ Existing Loans (select: Yes/No)                            â”‚
â”‚ Location: RenderForm.js lines 236-270                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Database Schema

```
cms_product_categories
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id       â”‚ category_key â”‚ name     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1        â”‚ life         â”‚ Life     â”‚
â”‚ 2        â”‚ motor        â”‚ Motor    â”‚
â”‚ 3        â”‚ home         â”‚ Home     â”‚
â”‚ 4        â”‚ legal        â”‚ Legal    â”‚
â”‚ 5        â”‚ personal-acc â”‚ Personal â”‚
â”‚ 6        â”‚ business     â”‚ Business â”‚
â”‚ 7        â”‚ loan         â”‚ Loan     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

cms_form_fields
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id       â”‚ category_id    â”‚ label  â”‚ type         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1        â”‚ 1 (Life)       â”‚ DOB    â”‚ date         â”‚
â”‚ 2        â”‚ 1 (Life)       â”‚ Gender â”‚ select       â”‚
â”‚ 3        â”‚ 1 (Life)       â”‚ Amount â”‚ number       â”‚
â”‚ ...      â”‚ ...            â”‚ ...    â”‚ ...          â”‚
â”‚ 43       â”‚ 7 (Loan)       â”‚ Tenure â”‚ number       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

cms_select_options
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ field_id â”‚ value    â”‚ label  â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ 2        â”‚ M        â”‚ Male   â”‚
â”‚ 2  â”‚ 2        â”‚ F        â”‚ Female â”‚
â”‚ 3  â”‚ 5        â”‚ car      â”‚ Car    â”‚
â”‚ 4  â”‚ 5        â”‚ moto     â”‚ Moto   â”‚
â”‚ .. â”‚ ..       â”‚ ..       â”‚ ..     â”‚
â”‚ 43 â”‚ 37       â”‚ yes      â”‚ Yes    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Product Detection Logic Map

### Current Keyword Matching (Hardcoded)

```
User visits: /products/life-insurance

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Product Slug: "life-..."   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Keyword.includes('life')    â”‚
â”‚ Case-insensitive match      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return category = "life"    â”‚
â”‚ Hardcoded logic âŒ          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Switch(category) {          â”‚
â”‚   case 'life': {...fields}  â”‚
â”‚   ...                       â”‚
â”‚ }                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Proposed API-Driven Matching

```
User visits: /products/life-insurance

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Product Slug: "life-..."       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /api/cms/product-categories  â”‚
â”‚ Fetch all categories with keywords
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Filter categories by keywords    â”‚
â”‚ Find best match using fuzzy matchâ”‚
â”‚ Example: 'life-insurance' â†’     â”‚
â”‚   'life' category               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return matched category object   â”‚
â”‚ With all form fields from API    â”‚
â”‚ Zero hardcoded data âœ“            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Responsive Layout Map

### Desktop Layout (1024px+)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header (Navigation)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚ Company Logo   â”‚ Main Product Heading               â”‚
â”‚  â”‚ [Color]        â”‚ "Get hassle-free cover..."        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Benefits    â”‚  â”‚ Coverage    â”‚  â”‚ Eligibility â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ Benefit 1 â”‚  â”‚ â€¢ Coverage  â”‚  â”‚ â€¢ Criteria  â”‚   â”‚
â”‚  â”‚ â€¢ Benefit 2 â”‚  â”‚ â€¢ Coverage  â”‚  â”‚ â€¢ Criteria  â”‚   â”‚
â”‚  â”‚ â€¢ Benefit 3 â”‚  â”‚ â€¢ Coverage  â”‚  â”‚ â€¢ Criteria  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Get Your Quote                                   â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ [Form Fields - Category Specific]                â”‚  â”‚
â”‚  â”‚ â€¢ Field 1: __________ [Dropdown/Input]          â”‚  â”‚
â”‚  â”‚ â€¢ Field 2: __________ [Dropdown/Input]          â”‚  â”‚
â”‚  â”‚ â€¢ Field 3: __________ [Dropdown/Input]          â”‚  â”‚
â”‚  â”‚ â€¢ Field 4: __________ [Dropdown/Input]          â”‚  â”‚
â”‚  â”‚ â€¢ Field 5: __________ [Dropdown/Input]          â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚              [Submit Application]                â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚ Disclaimer: "By submitting... UP..."             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Footer                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mobile Layout (< 640px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚
â”‚  [Logo]          â”‚
â”‚  Heading         â”‚
â”‚  "Get hassle-"   â”‚
â”‚  "free cover"    â”‚
â”‚                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚
â”‚ Benefits         â”‚
â”‚ â”œâ”€ Benefit 1    â”‚
â”‚ â”œâ”€ Benefit 2    â”‚
â”‚ â””â”€ Benefit 3    â”‚
â”‚                  â”‚
â”‚ Coverage         â”‚
â”‚ â”œâ”€ Coverage 1   â”‚
â”‚ â”œâ”€ Coverage 2   â”‚
â”‚ â””â”€ Coverage 3   â”‚
â”‚                  â”‚
â”‚ Eligibility      â”‚
â”‚ â”œâ”€ Criteria 1   â”‚
â”‚ â”œâ”€ Criteria 2   â”‚
â”‚ â””â”€ Criteria 3   â”‚
â”‚                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚
â”‚ Get Your Quote   â”‚
â”‚ â”œâ”€ [Field 1]   â”‚
â”‚ â”œâ”€ [Field 2]   â”‚
â”‚ â”œâ”€ [Field 3]   â”‚
â”‚ â”œâ”€ [Field 4]   â”‚
â”‚ â”œâ”€ [Field 5]   â”‚
â”‚ â””â”€ [Submit]    â”‚
â”‚                  â”‚
â”‚ Disclaimer       â”‚
â”‚                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Footer           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ File Organization After Migration

### Before (Hardcoded)

```
app/
â”œâ”€â”€ products/
â”‚   â””â”€â”€ [slug]/
â”‚       â””â”€â”€ page.js (600+ lines, hardcoded data)
â”‚
components/
â”œâ”€â”€ RenderForm.js (350+ lines, hardcoded fields)
â”œâ”€â”€ ProductBenefits.js (hardcoded content)
â”œâ”€â”€ ProductCoverage.js (hardcoded content)
â””â”€â”€ ProductEligibility.js (hardcoded content)
```

### After (CMS-Driven)

```
app/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ cms/
â”‚       â”œâ”€â”€ companies/
â”‚       â”‚   â”œâ”€â”€ route.js (GET all companies)
â”‚       â”‚   â””â”€â”€ [code]/
â”‚       â”‚       â””â”€â”€ route.js (GET single company)
â”‚       â””â”€â”€ product-categories/
â”‚           â”œâ”€â”€ route.js (GET all categories)
â”‚           â””â”€â”€ [key]/
â”‚               â””â”€â”€ route.js (GET single category)
â”‚
â”œâ”€â”€ products/
â”‚   â””â”€â”€ [slug]/
â”‚       â””â”€â”€ page.js (cleaner, data from API)
â”‚
lib/
â”œâ”€â”€ cms-product-api.js (service layer)
â”‚   â”œâ”€â”€ getCompanies()
â”‚   â”œâ”€â”€ getCompanyByCode()
â”‚   â”œâ”€â”€ getProductCategories()
â”‚   â””â”€â”€ getProductCategoryByKey()
â”‚
hooks/
â”œâ”€â”€ useProductPageData.js (custom hook)
â”‚   â”œâ”€â”€ Fetch company data
â”‚   â”œâ”€â”€ Detect category from slug
â”‚   â”œâ”€â”€ Return typed data
â”‚   â””â”€â”€ Handle loading/errors
â”‚
components/
â”œâ”€â”€ RenderForm.js (dynamic, data-driven)
â”œâ”€â”€ ProductBenefits.js (cleaner)
â”œâ”€â”€ ProductCoverage.js (cleaner)
â””â”€â”€ ProductEligibility.js (cleaner)

database/
â”œâ”€â”€ migrations/
â”‚   â”œâ”€â”€ 001_create_companies.sql
â”‚   â”œâ”€â”€ 002_create_product_categories.sql
â”‚   â”œâ”€â”€ 003_create_form_fields.sql
â”‚   â””â”€â”€ 004_create_select_options.sql
â”‚
â””â”€â”€ seeds/
    â””â”€â”€ seed-product-data.sql (populate from hardcoded)
```

---

## ğŸ”— Data Dependencies Graph

### What Depends on What

```
Product Slug
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         â”‚                      â”‚
    â–¼                         â–¼                      â–¼
Company Detection      Category Detection      Product Details
    â”‚                         â”‚                      â”‚
    â”œâ”€ Get company code   â”œâ”€ Match keywords      â”œâ”€ Product from API
    â””â”€ Fetch company      â””â”€ Get category       â””â”€ Company-specific text
        from API             from API
    â”‚                         â”‚                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                      â”‚                      â”‚
                      â–¼                      â–¼
              Render Company Info    Render Form Fields
                      â”‚                      â”‚
                      â”œâ”€ Brand Color        â”œâ”€ Category fields
                      â”œâ”€ Company Name       â”œâ”€ Form labels
                      â”œâ”€ Heading Text       â”œâ”€ Select options
                      â””â”€ Submit Button      â””â”€ Validation rules
                           Text
                      â”‚                      â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                          Complete Product Page
```

---

## ğŸ“ Migration Checklist by Component

### Company Branding

```
Current Location: app/products/[slug]/page.js (lines 1-30)

â˜ ANALYZE
  â˜ Identify all company references
  â˜ Document color usage
  â˜ List all text fields

â˜ DATABASE
  â˜ Create cms_companies table
  â˜ Add 3 company records
  â˜ Verify constraints

â˜ API
  â˜ Create GET /api/cms/companies
  â˜ Create GET /api/cms/companies/:code
  â˜ Test with cURL/Postman

â˜ CODE
  â˜ Create service layer function
  â˜ Create useCompanyData hook
  â˜ Update product page component
  â˜ Remove COMPANY_COLORS constant
  â˜ Remove COMPANY_NAMES constant
  â˜ Remove company-specific text logic

â˜ TEST
  â˜ Colors load correctly
  â˜ Text displays from API
  â˜ Responsive design preserved
  â˜ No console errors
```

### Form Fields

```
Current Location: components/RenderForm.js (lines 46-270)

â˜ ANALYZE
  â˜ Identify all 7 categories
  â˜ Count fields per category
  â˜ List all select options
  â˜ Document validation rules

â˜ DATABASE
  â˜ Create cms_product_categories
  â˜ Create cms_form_fields
  â˜ Create cms_select_options
  â˜ Add 7 category records
  â˜ Add 42+ field records
  â˜ Add 43+ option records
  â˜ Verify relationships

â˜ API
  â˜ Create GET /api/cms/product-categories
  â˜ Create GET /api/cms/product-categories/:key
  â˜ Test with cURL/Postman

â˜ CODE
  â˜ Create service layer functions
  â˜ Create useProductCategoryData hook
  â˜ Update RenderForm component
  â˜ Remove switch statements
  â˜ Dynamic field rendering
  â˜ Dynamic option population

â˜ TEST
  â˜ All 7 categories render
  â˜ Correct fields per category
  â˜ Correct options per field
  â˜ Validation works
  â˜ Form submission works
  â˜ No console errors
```

---

## ğŸ“Š Content Summary Table

### All Hardcoded Items Inventory

| Category | Item | Current Location | Type | Count |
|----------|------|------------------|------|-------|
| Colors | Brand colors | page.js:1-5 | Constants | 3 |
| Names | Company names | page.js:6-10 | Constants | 3 |
| Text | Headings | page.js:256-291 | Switch stmt | 5 |
| Text | Button text | page.js:256-291 | Switch stmt | 5 |
| Text | Messages | page.js:256-291 | Switch stmt | 5 |
| Form | Life fields | RenderForm:46-75 | Switch case | 5 |
| Form | Motor fields | RenderForm:76-110 | Switch case | 6 |
| Form | Home fields | RenderForm:111-145 | Switch case | 6 |
| Form | Legal fields | RenderForm:146-170 | Switch case | 4 |
| Form | Personal fields | RenderForm:171-195 | Switch case | 4 |
| Form | Business fields | RenderForm:196-235 | Switch case | 7 |
| Form | Loan fields | RenderForm:236-270 | Switch case | 6 |
| Options | Select values | RenderForm:80-200 | Arrays | 43+ |
| Text | Disclaimers | page.js:290-310 | Conditional | 2 |
| **TOTAL** | | | | **120+** |

---

## âœ… Success Criteria Checklist

- [ ] All 3 colors from database
- [ ] All text strings from database
- [ ] All 7 form categories dynamic
- [ ] All 42+ fields from database
- [ ] All 43+ options from database
- [ ] Category detection automatic
- [ ] Form submission working
- [ ] Responsive design maintained
- [ ] Zero hardcoded data in components
- [ ] All API endpoints tested
- [ ] TypeScript types correct
- [ ] Error handling complete
- [ ] Loading states working
- [ ] No console errors
- [ ] WCAG accessibility met

---

**Content Status**: âœ… Complete  
**Ready for**: Design Review, Implementation Planning  
**Next Phase**: Database Setup & API Development
